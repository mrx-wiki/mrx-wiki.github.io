<!DOCTYPE html>
<html lang=><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> 8.javaweb - gyk&#39;s blog</title>
    <meta name="description" content="1.下载完全版idea 1.1 下载软件 idea软件：
链接: https://pan.baidu.com/s/1OH0ybMuGvhkXie5EJ10uEg 密码: vjli
破解包：
链接: https://pan.baidu.com/s/1cR7eZSyx7dKz3R_Ei29_mg 密码: mj88
1.2 使用方法 1.安装运行 idea，在弹出的注册界面，选择 Evaluate for free，点击 Evaluate 试用软件
2.破解文件夹中的 jetbrains-agent.jar 文件拖动到软件内，然后点击 Restart 重启软件
3.重启后，弹出激活方式，选择 Activation code，复制破解文件 Activation code，激活重启
4.重启软件，在 Get Help 中点击 About
2.新建maven项目 2.1 有模版 2.2 无模版 3.tomcat服务器 3.1环境变量 3.2 idea中配置 4.servlet项目 4.1 步骤   1.新建无模版maven项目
  2.删除src目录，在pom.xml引入javax.servlet和javax.servlet.jsp依赖
  &lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.">
    <link rel="canonical" href="https://mrx-wiki.github.io/backend/8.javaweb/">
    <meta property="og:title" content="8.javaweb">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://mrx-wiki.github.io/backend/8.javaweb/">
    <meta property="og:description" content="1.下载完全版idea 1.1 下载软件 idea软件：
链接: https://pan.baidu.com/s/1OH0ybMuGvhkXie5EJ10uEg 密码: vjli
破解包：
链接: https://pan.baidu.com/s/1cR7eZSyx7dKz3R_Ei29_mg 密码: mj88
1.2 使用方法 1.安装运行 idea，在弹出的注册界面，选择 Evaluate for free，点击 Evaluate 试用软件
2.破解文件夹中的 jetbrains-agent.jar 文件拖动到软件内，然后点击 Restart 重启软件
3.重启后，弹出激活方式，选择 Activation code，复制破解文件 Activation code，激活重启
4.重启软件，在 Get Help 中点击 About
2.新建maven项目 2.1 有模版 2.2 无模版 3.tomcat服务器 3.1环境变量 3.2 idea中配置 4.servlet项目 4.1 步骤   1.新建无模版maven项目
  2.删除src目录，在pom.xml引入javax.servlet和javax.servlet.jsp依赖
  &lt;dependencies&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.">
    <meta property="og:site_name" content="gyk&#39;s blog">
    <link rel="stylesheet" href="https://mrx-wiki.github.io/css/main.min.7fdf1d02dafd1a6eb5cfd0d707e17e33515b866f5d305a0ab01a4095577484fe.css" integrity="sha256-f98dAtr9Gm61z9DXB&#43;F&#43;M1Fbhm9dMFoKsBpAlVd0hP4=">
    <meta name="generator" content="Hugo 0.73.0" />
    <script type="module" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@5.1.2/dist/ionicons/ionicons.js"></script>

    
</head>
<body><header class="site-header">
    <nav class="site-nav" role="navigation" aria-label="breadcrumb">
    <ol itemscope itemtype="https://schema.org/BreadcrumbList" class="breadcrumb"><li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="https://mrx-wiki.github.io/">
    <span itemprop="name">gyk&#39;s blog</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item  " 
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="https://mrx-wiki.github.io/backend/">
    <span itemprop="name">backend</span>
  </a>
  <meta itemprop="position" content="0" />
</li>/<li class="breadcrumb-item active hidden" aria-current="page"
  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
  <a itemtype="https://schema.org/Thing" itemprop="item" href="https://mrx-wiki.github.io/backend/8.javaweb/">
    <span itemprop="name">8.javaweb</span>
  </a>
  <meta itemprop="position" content="1" />
</li></ol>
    </nav>
    <h1 class="site-title hidden">
    <a href="https://mrx-wiki.github.io/">gyk&#39;s blog</a>
    </h1>
</header>
<main id="content">
<article role="article" class="content post h-entry" itemscope="" itemtype="http://schema.org/BlogPosting">
    <header class="post-header">        
        <h2 class="post-title" itemprop="name headline">8.javaweb</h2>
        <span class="post-meta">
            <time class="date-published" datetime="2022-01-21T01:17:00&#43;07:00" itemprop="datePublished">
                Fri, 21 Jan 2022
            </time>
            
        </span>
    </header>
    <div class="post-content" itemprop="articleBody">
        <h2 id="1下载完全版idea">1.下载完全版idea</h2>
<h3 id="11-下载软件">1.1 下载软件</h3>
<p>idea软件：</p>
<p>链接: 
<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fpan.baidu.com%2Fs%2F1OH0ybMuGvhkXie5EJ10uEg" target="_blank" rel="nofollow noreferrer noopener">https://pan.baidu.com/s/1OH0ybMuGvhkXie5EJ10uEg</a> 密码: vjli</p>
<p>破解包：</p>
<p>链接: 
<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fpan.baidu.com%2Fs%2F1cR7eZSyx7dKz3R_Ei29_mg" target="_blank" rel="nofollow noreferrer noopener">https://pan.baidu.com/s/1cR7eZSyx7dKz3R_Ei29_mg</a> 密码: mj88</p>
<h3 id="12-使用方法">1.2 使用方法</h3>
<p>1.安装运行 idea，在弹出的注册界面，选择 Evaluate for free，点击 Evaluate 试用软件</p>
<p>2.破解文件夹中的 jetbrains-agent.jar 文件拖动到软件内，然后点击 Restart 重启软件</p>
<p>3.重启后，弹出激活方式，选择 Activation code，复制破解文件 Activation code，激活重启</p>
<p>4.重启软件，在 Get Help 中点击 About</p>
<h2 id="2新建maven项目">2.新建maven项目</h2>
<h3 id="21-有模版">2.1 有模版</h3>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/e9b266f5c061aba5.png" alt=""></p>
<h3 id="22-无模版">2.2 无模版</h3>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/8ca4c3d2d5ddcc53.png" alt=""></p>
<h2 id="3tomcat服务器">3.tomcat服务器</h2>
<h3 id="31环境变量">3.1环境变量</h3>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/83a7cbcdebb65646.png" alt=""></p>
<h3 id="32-idea中配置">3.2 idea中配置</h3>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/e7ffd32586772bbf.png" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/57ca47d87720b88e.png" alt=""></p>
<p><img src="https://s3.bmp.ovh/imgs/2022/01/3432a989d44b6ab8.png" alt=""></p>
<h2 id="4servlet项目">4.servlet项目</h2>
<h3 id="41-步骤">4.1 步骤</h3>
<ul>
<li>
<p>1.新建无模版maven项目</p>
</li>
<li>
<p>2.删除src目录，在pom.xml引入javax.servlet和javax.servlet.jsp依赖</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependencies&gt;</span>
        <span style="color:#75715e">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span>
        <span style="color:#f92672">&lt;dependency&gt;</span>
            <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
            <span style="color:#f92672">&lt;artifactId&gt;</span>javax.servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
            <span style="color:#f92672">&lt;version&gt;</span>4.0.1<span style="color:#f92672">&lt;/version&gt;</span>
            <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
        <span style="color:#f92672">&lt;/dependency&gt;</span>
        <span style="color:#75715e">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;</span>
        <span style="color:#f92672">&lt;dependency&gt;</span>
            <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet.jsp<span style="color:#f92672">&lt;/groupId&gt;</span>
            <span style="color:#f92672">&lt;artifactId&gt;</span>javax.servlet.jsp-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
            <span style="color:#f92672">&lt;version&gt;</span>2.3.3<span style="color:#f92672">&lt;/version&gt;</span>
        <span style="color:#f92672">&lt;/dependency&gt;</span>

    <span style="color:#f92672">&lt;/dependencies&gt;</span>
</code></pre></div><ul>
<li>
<p>3.新建module，采用有模版maven项目</p>
</li>
<li>
<p>4.修改子项目的web.xml文件</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><ul>
<li>5.在src/main/java下新建package:wiki.mrx.servlet后新建类HelloServlet</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.PrintWriter<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        PrintWriter writer <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">();</span>
        writer<span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hello,servlet&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>6.编写servlet的映射，即tomcat中注册写好的类</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#75715e">&lt;!--注册servlet--&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>hello<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.HelloServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#75715e">&lt;!--请求路径--&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>hello<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/hello<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><ul>
<li>
<p>7.配置tomcat</p>
</li>
<li>
<p>8.启动服务器测试</p>
</li>
</ul>
<h3 id="42servletcontext">4.2servletContext</h3>
<p>servletContext是公共存储数据的对象</p>
<p>HelloServlet通过setAttribute为 servletContext放入数据</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletContext<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        ServletContext servletContext <span style="color:#f92672">=</span>  <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">();</span>
        String username <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sss&#34;</span><span style="color:#f92672">;</span>
        servletContext<span style="color:#f92672">.</span><span style="color:#a6e22e">setAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">,</span>username<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div><p>GetServlet通过getAttribute为 servletContext取出数据</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletContext<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GetServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        ServletContext servletContext <span style="color:#f92672">=</span>  <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">();</span>
        String username <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span> servletContext<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;名字：&#34;</span><span style="color:#f92672">+</span>username<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>hello<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.HelloServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>hello<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/hello<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>

    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getc<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.GetServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getc<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/getc<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><h3 id="43getinitparameter">4.3getInitParameter</h3>
<p>getInitParameter: 获得web容器初始化参数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletContext<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServletContextDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        ServletContext sc <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">();</span>
        String url <span style="color:#f92672">=</span> sc<span style="color:#f92672">.</span><span style="color:#a6e22e">getInitParameter</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;url&#34;</span><span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>url<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#75715e">&lt;!--配置web应用初始化参数--&gt;</span>
    <span style="color:#f92672">&lt;context-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>url<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>jdbc:mysql://localhosot:3306/mybatis<span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/context-param&gt;</span>

    <span style="color:#75715e">&lt;!--配置路径--&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getinit<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.ServletContextDemo<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getinit<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/getinit<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><h3 id="44getrequestdispatcher">4.4getRequestDispatcher</h3>
<p>getRequestDispatcher:路径转发</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.RequestDispatcher<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletContext<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServletContextDemo2</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        ServletContext sc <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">();</span>
        RequestDispatcher rd <span style="color:#f92672">=</span> sc<span style="color:#f92672">.</span><span style="color:#a6e22e">getRequestDispatcher</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/getinit&#34;</span><span style="color:#f92672">);</span>
        rd<span style="color:#f92672">.</span><span style="color:#a6e22e">forward</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span>resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#75715e">&lt;!--配置web应用初始化参数--&gt;</span>
    <span style="color:#f92672">&lt;context-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>url<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>jdbc:mysql://localhosot:3306/mybatis<span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/context-param&gt;</span>

    <span style="color:#75715e">&lt;!--配置路径--&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getinit<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.ServletContextDemo<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getinit<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/getinit<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>

    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>dispatch<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.ServletContextDemo2<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>dispatch<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/dispatch<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><h3 id="45getresourceasstream">4.5getResourceAsStream</h3>
<p>getResourceAsStream: 读取resources资源</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.InputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Properties<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServletContextDemo3</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        InputStream is <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getServletContext</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getResourceAsStream</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/WEB-INF/classes/db.properties&#34;</span><span style="color:#f92672">);</span>
        Properties prop <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Properties<span style="color:#f92672">();</span>
        prop<span style="color:#f92672">.</span><span style="color:#a6e22e">load</span><span style="color:#f92672">(</span>is<span style="color:#f92672">);</span>
        String username <span style="color:#f92672">=</span> prop<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span>
        String password <span style="color:#f92672">=</span> prop<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>username <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">+</span> password<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
<span style="color:#f92672">&lt;web-app</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
         <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
         <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://xmlns.jcp.org/xml/ns/javaee
</span><span style="color:#e6db74">                            http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
         <span style="color:#a6e22e">version=</span><span style="color:#e6db74">&#34;4.0&#34;</span>
         <span style="color:#a6e22e">metadata-complete=</span><span style="color:#e6db74">&#34;true&#34;</span>
<span style="color:#f92672">&gt;</span>
    <span style="color:#75715e">&lt;!--配置路径--&gt;</span>
    <span style="color:#f92672">&lt;servlet&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getResourceAsStream<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;servlet-class&gt;</span>wiki.mrx.servlet.ServletContextDemo3<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;/servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-mapping&gt;</span>
        <span style="color:#f92672">&lt;servlet-name&gt;</span>getResourceAsStream<span style="color:#f92672">&lt;/servlet-name&gt;</span>
        <span style="color:#f92672">&lt;url-pattern&gt;</span>/getResourceAsStream<span style="color:#f92672">&lt;/url-pattern&gt;</span>
    <span style="color:#f92672">&lt;/servlet-mapping&gt;</span>
<span style="color:#f92672">&lt;/web-app&gt;</span>
</code></pre></div><h3 id="46httpresponse">4.6HttpResponse</h3>
<p>向浏览器发送数据</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">getOutputStream<span style="color:#f92672">()</span>
getWriter<span style="color:#f92672">()</span>
</code></pre></div><p>向浏览器发送响应头</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setCharacterEncoding</span><span style="color:#f92672">(</span>String var1<span style="color:#f92672">);</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setContentLength</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> var1<span style="color:#f92672">);</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setContentLengthLong</span><span style="color:#f92672">(</span><span style="color:#66d9ef">long</span> var1<span style="color:#f92672">);</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setContentType</span><span style="color:#f92672">(</span>String var1<span style="color:#f92672">);</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBufferSize</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> var1<span style="color:#f92672">);</span>

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getBufferSize</span><span style="color:#f92672">();</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">flushBuffer</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">resetBuffer</span><span style="color:#f92672">();</span>

<span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isCommitted</span><span style="color:#f92672">();</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reset</span><span style="color:#f92672">();</span>

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setLocale</span><span style="color:#f92672">(</span>Locale var1<span style="color:#f92672">);</span>
</code></pre></div><p>状态码</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">int</span> SC_CONTINUE <span style="color:#f92672">=</span> 100<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_SWITCHING_PROTOCOLS <span style="color:#f92672">=</span> 101<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_OK <span style="color:#f92672">=</span> 200<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_CREATED <span style="color:#f92672">=</span> 201<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_ACCEPTED <span style="color:#f92672">=</span> 202<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NON_AUTHORITATIVE_INFORMATION <span style="color:#f92672">=</span> 203<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NO_CONTENT <span style="color:#f92672">=</span> 204<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_RESET_CONTENT <span style="color:#f92672">=</span> 205<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_PARTIAL_CONTENT <span style="color:#f92672">=</span> 206<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_MULTIPLE_CHOICES <span style="color:#f92672">=</span> 300<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_MOVED_PERMANENTLY <span style="color:#f92672">=</span> 301<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_MOVED_TEMPORARILY <span style="color:#f92672">=</span> 302<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_FOUND <span style="color:#f92672">=</span> 302<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_SEE_OTHER <span style="color:#f92672">=</span> 303<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NOT_MODIFIED <span style="color:#f92672">=</span> 304<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_USE_PROXY <span style="color:#f92672">=</span> 305<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_TEMPORARY_REDIRECT <span style="color:#f92672">=</span> 307<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_BAD_REQUEST <span style="color:#f92672">=</span> 400<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_UNAUTHORIZED <span style="color:#f92672">=</span> 401<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_PAYMENT_REQUIRED <span style="color:#f92672">=</span> 402<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_FORBIDDEN <span style="color:#f92672">=</span> 403<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NOT_FOUND <span style="color:#f92672">=</span> 404<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_METHOD_NOT_ALLOWED <span style="color:#f92672">=</span> 405<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NOT_ACCEPTABLE <span style="color:#f92672">=</span> 406<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_PROXY_AUTHENTICATION_REQUIRED <span style="color:#f92672">=</span> 407<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_REQUEST_TIMEOUT <span style="color:#f92672">=</span> 408<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_CONFLICT <span style="color:#f92672">=</span> 409<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_GONE <span style="color:#f92672">=</span> 410<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_LENGTH_REQUIRED <span style="color:#f92672">=</span> 411<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_PRECONDITION_FAILED <span style="color:#f92672">=</span> 412<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_REQUEST_ENTITY_TOO_LARGE <span style="color:#f92672">=</span> 413<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_REQUEST_URI_TOO_LONG <span style="color:#f92672">=</span> 414<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_UNSUPPORTED_MEDIA_TYPE <span style="color:#f92672">=</span> 415<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_REQUESTED_RANGE_NOT_SATISFIABLE <span style="color:#f92672">=</span> 416<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_EXPECTATION_FAILED <span style="color:#f92672">=</span> 417<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_INTERNAL_SERVER_ERROR <span style="color:#f92672">=</span> 500<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_NOT_IMPLEMENTED <span style="color:#f92672">=</span> 501<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_BAD_GATEWAY <span style="color:#f92672">=</span> 502<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_SERVICE_UNAVAILABLE <span style="color:#f92672">=</span> 503<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_GATEWAY_TIMEOUT <span style="color:#f92672">=</span> 504<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> SC_HTTP_VERSION_NOT_SUPPORTED <span style="color:#f92672">=</span> 505<span style="color:#f92672">;</span>
</code></pre></div><p>常见应用</p>
<ul>
<li>在浏览器输出消息</li>
<li>下载文件</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletOutputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.FileInputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.URLEncoder<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FileServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">//1.获取下载文件的路径
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//String realPath = this.getServletContext().getRealPath(&#34;/1.png&#34;);
</span><span style="color:#75715e"></span>        String realPath <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/local/Tomcat/webapps/s3/1.png&#34;</span><span style="color:#f92672">;</span>

        <span style="color:#75715e">//2.下载文件名字
</span><span style="color:#75715e"></span>        String fileName <span style="color:#f92672">=</span> realPath<span style="color:#f92672">.</span><span style="color:#a6e22e">substring</span><span style="color:#f92672">(</span>realPath<span style="color:#f92672">.</span><span style="color:#a6e22e">lastIndexOf</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">)+</span>1<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;名字：&#34;</span><span style="color:#f92672">+</span>fileName<span style="color:#f92672">);</span>

        <span style="color:#75715e">//3.使浏览器支持需要下载的东西
</span><span style="color:#75715e"></span>        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Content-Disposition&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;attachment;filename=&#34;</span><span style="color:#f92672">+</span> URLEncoder<span style="color:#f92672">.</span><span style="color:#a6e22e">encode</span><span style="color:#f92672">(</span>fileName<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;UTF-8&#34;</span><span style="color:#f92672">));</span>

        <span style="color:#75715e">//4.获取下载文件的输入流
</span><span style="color:#75715e"></span>        FileInputStream in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream<span style="color:#f92672">(</span>realPath<span style="color:#f92672">);</span>

        <span style="color:#75715e">//5.创建缓冲区
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buffer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>1024<span style="color:#f92672">];</span>

        <span style="color:#75715e">//6.获取outputstream
</span><span style="color:#75715e"></span>        ServletOutputStream out <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">();</span>


        <span style="color:#75715e">//7.将FileOutputStream流写入buffer缓冲区
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//使用OutputStream将缓冲区内容输出到客户端
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span><span style="color:#f92672">((</span>len<span style="color:#f92672">=</span>in<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">(</span>buffer<span style="color:#f92672">))!=-</span>1<span style="color:#f92672">){</span>
            out<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>buffer<span style="color:#f92672">,</span>0<span style="color:#f92672">,</span>len<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">//8.关闭资源
</span><span style="color:#75715e"></span>        in<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        out<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>

    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>验证码</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> wiki.mrx.servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.imageio.ImageIO<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.awt.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.awt.image.BufferedImage<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Random<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ImageServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;refresh&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">);</span>
        BufferedImage bi <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedImage<span style="color:#f92672">(</span>80<span style="color:#f92672">,</span>20<span style="color:#f92672">,</span>BufferedImage<span style="color:#f92672">.</span><span style="color:#a6e22e">TYPE_INT_RGB</span><span style="color:#f92672">);</span>

        Graphics2D graphics <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Graphics2D<span style="color:#f92672">)</span>bi<span style="color:#f92672">.</span><span style="color:#a6e22e">getGraphics</span><span style="color:#f92672">();</span><span style="color:#75715e">//笔
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//背景色
</span><span style="color:#75715e"></span>        graphics<span style="color:#f92672">.</span><span style="color:#a6e22e">setColor</span><span style="color:#f92672">(</span>Color<span style="color:#f92672">.</span><span style="color:#a6e22e">white</span><span style="color:#f92672">);</span>
        graphics<span style="color:#f92672">.</span><span style="color:#a6e22e">fillRect</span><span style="color:#f92672">(</span>0<span style="color:#f92672">,</span>0<span style="color:#f92672">,</span>80<span style="color:#f92672">,</span>20<span style="color:#f92672">);</span>
        <span style="color:#75715e">//图片和数据
</span><span style="color:#75715e"></span>        graphics<span style="color:#f92672">.</span><span style="color:#a6e22e">setColor</span><span style="color:#f92672">(</span>Color<span style="color:#f92672">.</span><span style="color:#a6e22e">BLUE</span><span style="color:#f92672">);</span>
        graphics<span style="color:#f92672">.</span><span style="color:#a6e22e">setFont</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Font<span style="color:#f92672">(</span><span style="color:#66d9ef">null</span><span style="color:#f92672">,</span>Font<span style="color:#f92672">.</span><span style="color:#a6e22e">BOLD</span><span style="color:#f92672">,</span>20<span style="color:#f92672">));</span>
        graphics<span style="color:#f92672">.</span><span style="color:#a6e22e">drawString</span><span style="color:#f92672">(</span>makeNum<span style="color:#f92672">(),</span>0<span style="color:#f92672">,</span>20<span style="color:#f92672">);</span>

        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setContentType</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;image/jpeg&#34;</span><span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setDateHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;expires&#34;</span><span style="color:#f92672">,-</span>1<span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Cache-Control&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;no-cache&#34;</span><span style="color:#f92672">);</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Pragma&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;no-cache&#34;</span><span style="color:#f92672">);</span>

        ImageIO<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>bi<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;jpg&#34;</span><span style="color:#f92672">,</span>resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">//生成随机数
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String <span style="color:#a6e22e">makeNum</span><span style="color:#f92672">(){</span>
        Random random <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Random<span style="color:#f92672">();</span>
        String num <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span><span style="color:#a6e22e">nextInt</span><span style="color:#f92672">(</span>99999999<span style="color:#f92672">)+</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">;</span>
        StringBuffer sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuffer<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span>7<span style="color:#f92672">-</span>num<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            sb<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;0&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        num <span style="color:#f92672">=</span> sb<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">()+</span>num<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">return</span> num<span style="color:#f92672">;</span>

    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        doGet<span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
    </div>
    <video id="my_video" style="height: 300px;width:100%" controls="controls"></video>
</article>

<div class="pagination">
    
    <div class="prev"> <a href="https://mrx-wiki.github.io/backend/7.%E6%95%B0%E6%8D%AE%E5%BA%93/">Previous Post</a> </div>
    
    
    <div class="next"> <a href="https://mrx-wiki.github.io/backend/9.mybatis/">Next Post</a> </div>
    
</div>




</script>
<script>
    try{
        
        let src = document.getElementsByTagName('code')[0].innerText;
        
        if(src.indexOf("mp4")!=-1){
            document.getElementById('my_video').setAttribute("src",src)
        }else{
            
            let video = document.getElementById('my_video');
            if (video != null){
                video.parentNode.removeChild(video);
            }
            
            
        }
    }catch(e){
        
        let video = document.getElementById('my_video');
        if (video != null){
            video.parentNode.removeChild(video);
        }
    }
    
    
    
    
</script>













        </main><footer class="site-footer">
	<span class="right">
		<em>gyk&#39;s blog</em>
	</span>
</footer>
</body>
    <script type="text/javascript">
        
        let show_flag=true;
        
        function pass() {
            while(show_flag){
             let token = window.prompt("登陆码","");
             if(token==="888888"){
                 show_flag=false;
             }else{
                 show_flag=true;
             }
            }
        }
    </script>
</html>
